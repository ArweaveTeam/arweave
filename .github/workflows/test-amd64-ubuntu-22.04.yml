######################################################################
# Test suite for Ubuntu 22.04. This is the official OS supported by
# arweave team. The complete test suite should be executed.
######################################################################
name: "Test on arch:amd64 distribution:ubuntu release:22.04"

on:
  push:
    branches: ["**"]
  workflow_dispatch:

jobs:
  build:
    uses: ./.github/workflows/x-build.yml
    secrets: inherit

  test-canary:
    needs: [build]
    uses: ./.github/workflows/x-test-canary.yml
    secrets: inherit

  common-test:
    needs: [test-canary]
    uses: ./.github/workflows/x-common-test.yml
    secrets: inherit

  test:
    needs: [test-canary]
    uses: ./.github/workflows/x-test-full.yml
    secrets: inherit
